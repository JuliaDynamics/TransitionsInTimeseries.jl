<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · TransitionsInTimeseries.jl</title><meta name="title" content="API · TransitionsInTimeseries.jl"/><meta property="og:title" content="API · TransitionsInTimeseries.jl"/><meta property="twitter:title" content="API · TransitionsInTimeseries.jl"/><meta name="description" content="Documentation for TransitionsInTimeseries.jl."/><meta property="og:description" content="Documentation for TransitionsInTimeseries.jl."/><meta property="twitter:description" content="Documentation for TransitionsInTimeseries.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="https://fonts.googleapis.com/css?family=Montserrat|Source+Code+Pro&amp;display=swap" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">TransitionsInTimeseries.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">TransitionsInTimeseries.jl</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/logistic/">Permutation entropy for dynamic regime changes</a></li><li><a class="tocitem" href="../examples/ks_paleojump/">Kolmogorov-Smirnov test for detecting transitions in paleoclimate timeseries</a></li><li><a class="tocitem" href="../examples/do-events/">Dansgaard-Oescher events and Critical Slowing Down</a></li></ul></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Main-analysis-functions"><span>Main analysis functions</span></a></li><li><a class="tocitem" href="#Significance-testing"><span>Significance testing</span></a></li><li><a class="tocitem" href="#indicators"><span>Indicators</span></a></li><li><a class="tocitem" href="#change_metrics"><span>Change metrics</span></a></li><li><a class="tocitem" href="#own_indicator"><span>Make your own indicator/metric!</span></a></li><li><a class="tocitem" href="#Surrogates"><span>Surrogates</span></a></li><li><a class="tocitem" href="#Sliding-windows"><span>Sliding windows</span></a></li><li><a class="tocitem" href="#Load-data"><span>Load data</span></a></li><li><a class="tocitem" href="#Visualization"><span>Visualization</span></a></li><li><a class="tocitem" href="#Utils"><span>Utils</span></a></li></ul></li><li><a class="tocitem" href="../refs/">References</a></li><li><a class="tocitem" href="../devdocs/">Developer&#39;s documentation</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h2 id="Main-analysis-functions"><a class="docs-heading-anchor" href="#Main-analysis-functions">Main analysis functions</a><a id="Main-analysis-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Main-analysis-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.estimate_changes" href="#TransitionsInTimeseries.estimate_changes"><code>TransitionsInTimeseries.estimate_changes</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">estimate_changes(config::ChangesConfig, x [,t]) → result</code></pre><p>Estimate possible transitions for input timeseries <code>x</code> using the approach specified in the configuration type <code>config</code>, see <a href="#TransitionsInTimeseries.ChangesConfig"><code>ChangesConfig</code></a> for possibilities. <code>t</code> is the time vector corresponding to <code>x</code>, which defaults to <code>eachindex(x)</code>.</p><p>Return the output as subtype of <a href="#TransitionsInTimeseries.ChangesResults"><code>ChangesResults</code></a>. The particular form of the output depends on the <code>config</code> and is described in its docstring. Regardless of type, <code>result</code> can always be given to <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a> to deduce which possible transitions are statistically significant using a variety of significance tests.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/analysis/api.jl#L15-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.ChangesConfig" href="#TransitionsInTimeseries.ChangesConfig"><code>TransitionsInTimeseries.ChangesConfig</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ChangesConfig</code></pre><p>Supertype for how &quot;changes&quot; in a timeseries are estimated in <a href="#TransitionsInTimeseries.estimate_changes"><code>estimate_changes</code></a>. &quot;Changes&quot; deemed statistically significant in <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a> are &quot;transitions&quot; in the timeseries.</p><p>Existing subtypes of <code>ChangesConfig</code> are:</p><ul><li><a href="#TransitionsInTimeseries.SlidingWindowConfig"><code>SlidingWindowConfig</code></a>.</li><li><a href="#TransitionsInTimeseries.SegmentedWindowConfig"><code>SegmentedWindowConfig</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/analysis/api.jl#L1-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.ChangesResults" href="#TransitionsInTimeseries.ChangesResults"><code>TransitionsInTimeseries.ChangesResults</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ChangesResults</code></pre><p>Supertype used to gather results of <a href="#TransitionsInTimeseries.estimate_changes"><code>estimate_changes</code></a>. The concrete subtype instances are described in the docstrings of configuration types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/analysis/api.jl#L31-L36">source</a></section></article><h3 id="Sliding-window"><a class="docs-heading-anchor" href="#Sliding-window">Sliding window</a><a id="Sliding-window-1"></a><a class="docs-heading-anchor-permalink" href="#Sliding-window" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.SlidingWindowConfig" href="#TransitionsInTimeseries.SlidingWindowConfig"><code>TransitionsInTimeseries.SlidingWindowConfig</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SlidingWindowConfig &lt;: ChangesConfig
SlidingWindowConfig(indicators, change_metrics; kwargs...)</code></pre><p>A configuration that can be given to <a href="#TransitionsInTimeseries.estimate_changes"><code>estimate_changes</code></a>. It estimates transitions by a sliding window approach:</p><ol><li>Estimate the timeseries of an indicator by sliding a window over the input timeseries.</li><li>Estimate changes of an indicator by sliding a window of the change metric over the indicator timeseries.</li></ol><p>Both indicators and change metrics are <strong>generic Julia functions</strong> that input an <code>x::AbstractVector</code> and output an <code>s::Real</code>. Any function may be given and see <a href="#own_indicator">making custom indicators/change metrics</a> in the documentation for more information on possible optimizations.</p><p><code>indicators</code> can be a single function or a tuple of indicators. Similarly, <code>change_metrics</code> can be a tuple or a single function. If tuples, the length of <code>indicators</code> and <code>change_metrics</code> must match. This way the analysis can be efficiently repeated for many indicators and/or change metrics.</p><p>The results output corresponding to <code>SlidingWindowConfig</code> is <a href="#TransitionsInTimeseries.SlidingWindowResults"><code>SlidingWindowResults</code></a>.</p><p>Step 1. is skipped if <code>nothing</code> is provided as <code>indicators</code>, in which case the change metrics are estimated directly from input data.</p><p><strong>Keyword arguments</strong></p><ul><li><code>width_ind::Int=100, stride_ind::Int=1</code>: width and stride given to <a href="#TransitionsInTimeseries.WindowViewer"><code>WindowViewer</code></a> to compute the indicator from the input timeseries.</li><li><code>width_cha::Int=50, stride_cha::Int=1</code>: width and stride given to <a href="#TransitionsInTimeseries.WindowViewer"><code>WindowViewer</code></a> to compute the change metric timeseries from the indicator timeseries.</li><li><code>whichtime = midpoint</code>: The time vector corresponding to the indicators / change metric timeseries is obtained from <code>t</code> in <a href="#TransitionsInTimeseries.estimate_changes"><code>estimate_changes</code></a> using the keyword <code>whichtime</code>. Options include:<ul><li><code>last</code>: use the last timepoint of each window</li><li><code>midpoint</code>: use the mid timepoint of each time window</li><li><code>first</code>: use first timepoint of each window</li></ul>In fact, the indicators time vector is computed simply via<pre><code class="language-julia hljs">t_indicator = windowmap(whichtime, t; width_ind, stride_ind)
t_change = windowmap(whichtime, t_indicator; width_cha, stride_cha)</code></pre>so any other function of the time window may be given to extract the time point itself, such as <code>mean</code> or <code>median</code>.</li><li><code>T = Float64</code>: Element type of input timeseries to initialize some computations.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/analysis/sliding_window.jl#L1-L48">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.SlidingWindowResults" href="#TransitionsInTimeseries.SlidingWindowResults"><code>TransitionsInTimeseries.SlidingWindowResults</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SlidingWindowResults &lt;: ChangesResults</code></pre><p>A struct containing the output of <a href="#TransitionsInTimeseries.estimate_changes"><code>estimate_changes</code></a> used with <a href="#TransitionsInTimeseries.SlidingWindowConfig"><code>SlidingWindowConfig</code></a>. It can be used for further analysis, visualization, or given to <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a>.</p><p>It has the following fields that the user may access</p><ul><li><p><code>x</code>: the input timeseries.</p></li><li><p><code>t</code>: the time vector of the input timeseries.</p></li><li><p><code>x_indicator</code>, the indicator timeseries (matrix with each column one indicator).</p></li><li><p><code>t_indicator</code>, the time vector of the indicator timeseries.</p></li><li><p><code>x_change</code>, the change metric timeseries (matrix with each column one change metric).</p></li><li><p><code>t_change</code>, the time vector of the change metric timeseries.</p></li><li><p><code>config::SlidingWindowConfig</code>, what was used for the analysis.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/analysis/sliding_window.jl#L144-L163">source</a></section></article><h3 id="Segmented-window"><a class="docs-heading-anchor" href="#Segmented-window">Segmented window</a><a id="Segmented-window-1"></a><a class="docs-heading-anchor-permalink" href="#Segmented-window" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.SegmentedWindowConfig" href="#TransitionsInTimeseries.SegmentedWindowConfig"><code>TransitionsInTimeseries.SegmentedWindowConfig</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SegmentedWindowConfig &lt;: IndicatorsChangeConfig
SegmentedWindowConfig(indicators, change_metrics, tseg_start, tseg_end; kwargs...)</code></pre><p>A configuration that can be given to <a href="#TransitionsInTimeseries.estimate_changes"><code>estimate_changes</code></a>. It estimates transitions by estimating indicators and changes in user-defined window segments as follows:</p><ol><li>For each segment specified, estimate the corresponding indicator timeseries by sliding a window over the input timeseries (within the window segment).</li><li>For each segment of the indicator timeseries, estimate a scalar change metric by applying the change metric over the full segment of the indicator timeseries.d</li></ol><p><code>tseg_start, tseg_end</code> are the starts and ends of the window segments (the window segments may overlap, that&#39;s okay). <code>indicators, change_metrics</code> are identical as in <a href="#TransitionsInTimeseries.SlidingWindowConfig"><code>SlidingWindowConfig</code></a>.</p><p>The results output corresponding to <code>SlidingWindowConfig</code> is <a href="#TransitionsInTimeseries.SegmentedWindowResults"><code>SegmentedWindowResults</code></a>.</p><p><strong>Keyword arguments</strong></p><ul><li><code>width_ind::Int=100, stride_ind::Int=1, whichtime = midpoint, T = Float64</code>: keywords identical as in <a href="#TransitionsInTimeseries.SlidingWindowConfig"><code>SlidingWindowConfig</code></a>.</li><li><code>min_width_cha::Int=typemax(Int)</code>: minimal width required to perform the change metric estimation. If a segment is not sufficiently long, the change metric is <code>NaN</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/analysis/segmented_window.jl#L1-L25">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.SegmentedWindowResults" href="#TransitionsInTimeseries.SegmentedWindowResults"><code>TransitionsInTimeseries.SegmentedWindowResults</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SegmentedWindowResults &lt;: ChangesResults</code></pre><p>A struct containing the output of <a href="#TransitionsInTimeseries.estimate_changes"><code>estimate_changes</code></a> used with <a href="#TransitionsInTimeseries.SegmentedWindowConfig"><code>SegmentedWindowConfig</code></a>. It can be used for further analysis, visualization, or given to <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a>.</p><p>It has the following fields that the user may access</p><ul><li><p><code>x</code>: the input timeseries.</p></li><li><p><code>t</code>: the time vector of the input timeseries.</p></li><li><p><code>x_indicator::Vector{Matrix}</code>, with <code>x_indicator[k]</code> the indicator timeseries (matrix  with each column one indicator) of the <code>k</code>-th segment.</p></li><li><p><code>t_indicator::Vector{Vector}</code>, with <code>t_indicator[k]</code> the time vector of the indicator timeseries for the <code>k</code>-th segment.</p></li><li><p><code>x_change::Matrix</code>, the change metric values with <code>x[k, i]</code> the change metric of the <code>i</code>-th indicator for the <code>k</code>-th segment.</p></li><li><p><code>t_change</code>, the time vector of the change metric.</p></li><li><p><code>config::SegmentedWindowConfig</code>, what was used for the analysis.</p></li><li><p><code>i1::Vector{Int}</code> indices corresponding to start time of each segment.</p></li><li><p><code>i2::Vector{Int}</code> indices corresponding to end time of each segment.</p></li><li><p><code>precomp_change_metrics</code> vector containing the precomputed change metrics of each segment.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/analysis/segmented_window.jl#L124-L149">source</a></section></article><h3 id="Slope-change"><a class="docs-heading-anchor" href="#Slope-change">Slope change</a><a id="Slope-change-1"></a><a class="docs-heading-anchor-permalink" href="#Slope-change" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.SlopeChangeConfig" href="#TransitionsInTimeseries.SlopeChangeConfig"><code>TransitionsInTimeseries.SlopeChangeConfig</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SlopeChangeConfig &lt;: ChangesConfig
SlopeChangeConfig(; indicator = nothing, kw...)</code></pre><p>A configuration that can be given to <a href="#TransitionsInTimeseries.estimate_changes"><code>estimate_changes</code></a>. It estimates a change of slope in the timeseries by fitting two connected linear segments to the timeseries, returning the results (i.e., the two-linear fits) as <a href="#TransitionsInTimeseries.SlopeChangeResults"><code>SlopeChangeResults</code></a>.</p><p><strong>Keyword arguments</strong></p><ul><li>indicator = nothing: if not nothing. Otherwise it should be a function f(x) -&gt; Real. The slope fitting is then done over an indicator of the timeseries, which itself is estimated via a sliding window exactly as in <a href="#TransitionsInTimeseries.SlidingWindowConfig"><code>SlidingWindowConfig</code></a>.</li><li><code>width_ind, stride_ind, whichtime</code>: exactly as in <a href="#TransitionsInTimeseries.SlidingWindowConfig"><code>SlidingWindowConfig</code></a> if <code>indicator</code> is not <code>nothing</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/analysis/slope_change.jl#L3-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.SlopeChangeResults" href="#TransitionsInTimeseries.SlopeChangeResults"><code>TransitionsInTimeseries.SlopeChangeResults</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SlopeChangeResults &lt;: ChangesResults</code></pre><p>A struct containing the output of <a href="#TransitionsInTimeseries.estimate_changes"><code>estimate_changes</code></a> used with <a href="#TransitionsInTimeseries.SlopeChangeConfig"><code>SlopeChangeConfig</code></a>. It can be used for further analysis, visualization, or given to <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a>. The only significance type that you can use this with <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a> is <a href="#TransitionsInTimeseries.SlopeChangeSignificance"><code>SlopeChangeSignificance</code></a>.</p><p>It has the following fields that the user may access:</p><ul><li><code>x</code>: the input timeseries.</li><li><code>t</code>: the time vector of the input timeseries.</li><li><code>x_indicator</code>, the indicator timeseries.</li><li><code>t_indicator</code>, the time vector of the indicator timeseries.</li><li><code>t_change</code>, the time the slope changes.</li><li><code>fitparams = a, b, c, d</code>, the fitted linear coefficients, <code>a + b*t</code> before. <code>t_change</code> and <code>c + d*t</code> after <code>t_change</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/analysis/slope_change.jl#L75-L93">source</a></section></article><h2 id="Significance-testing"><a class="docs-heading-anchor" href="#Significance-testing">Significance testing</a><a id="Significance-testing-1"></a><a class="docs-heading-anchor-permalink" href="#Significance-testing" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.significant_transitions" href="#TransitionsInTimeseries.significant_transitions"><code>TransitionsInTimeseries.significant_transitions</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">significant_transitions(res::ChangesResults, signif::Significance)</code></pre><p>Estimate significant transtions in <code>res</code> using the method described by <code>signif</code>. Return <code>flags</code>, a Boolean matrix with identical size as the changes stored in <code>res</code> (which typically is stored in the field <code>res.x_change</code>). <code>flags</code> is <code>true</code> wherever a change metric of <code>res</code> is deemed significant.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/significance/api_significance.jl#L17-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.Significance" href="#TransitionsInTimeseries.Significance"><code>TransitionsInTimeseries.Significance</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Significance</code></pre><p>Supertype used to test for significance in <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a>. Changes that are statistically significant are &quot;transitions&quot;.</p><p>Valid subtypes are:</p><ul><li><a href="#TransitionsInTimeseries.SurrogatesSignificance"><code>SurrogatesSignificance</code></a>.</li><li><a href="#TransitionsInTimeseries.SigmaSignificance"><code>SigmaSignificance</code></a>.</li><li><a href="#TransitionsInTimeseries.QuantileSignificance"><code>QuantileSignificance</code></a>.</li><li><a href="#TransitionsInTimeseries.ThresholdSignificance"><code>ThresholdSignificance</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/significance/api_significance.jl#L1-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.SurrogatesSignificance" href="#TransitionsInTimeseries.SurrogatesSignificance"><code>TransitionsInTimeseries.SurrogatesSignificance</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SurrogatesSignificance &lt;: Significance
SurrogatesSignificance(; kwargs...)</code></pre><p>A configuration struct for significance testing <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a> using timeseries surrogates.</p><p><strong>Keyword arguments</strong></p><ul><li><code>surromethod = RandomFourier()</code>: method to generate surrogates</li><li><code>n = 1000</code>: how many surrogates to generate</li><li><code>rng = Random.default_rng()</code>: random number generator for the surrogates</li><li><code>p = 0.05</code>: threshold for significance of the p-value</li><li><code>tail = :both</code>: tail type used, see below</li></ul><p><strong>Description</strong></p><p>When used with <a href="#TransitionsInTimeseries.ChangesResults"><code>ChangesResults</code></a>, significance is estimated as follows: <code>n</code> surrogates from the input timeseries are generated using <code>surromethod</code>, which is any <code>Surrogate</code> subtype provided by <a href="https://juliadynamics.github.io/TimeseriesSurrogates.jl/dev/api/">TimeseriesSurrogates.jl</a>. For each surrogate, the indicator and then change metric timeseries is extracted. The values of the surrogate change metrics form a distribution of values (one at each time point). The value of the original change metric is compared to that of the surrogate distribution and a p-value is extracted according to the specified <code>tail</code>. The p-value is compared with <code>p</code> to claim significance. After using <code>SurrogatesSignificance</code>, you may access the full p-values before thresholding in the field <code>.pvalues</code> (to e.g., threshold with different <code>p</code>).</p><p>The p-value is simply the proportion of surrogate change metric values that exceed (for <code>tail = :right</code>) or subseed (<code>tail = :left</code>) the original change metric at each given time point. Use <code>tail = :left</code> if the surrogate data are expected to have higher change metric values. This is the case for statistics that quantify entropy. For statistics that quantify autocorrelation, use <code>tail = :right</code> instead. For anything else, use the default <code>tail = :both</code>. An iterable of <code>tail</code> values can also be given, in which case a specific <code>tail</code> is used for each change metric in <a href="#TransitionsInTimeseries.ChangesResults"><code>ChangesResults</code></a>.</p><p>Note that the raw p-values can be accessed in the field <code>.pvalues</code>, after calling the <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a> function with <code>SurrogatesSignificance</code>, in case you wish to obtain a different threshold of the p-values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/significance/surrogates_significance.jl#L1-L42">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.ThresholdSignificance" href="#TransitionsInTimeseries.ThresholdSignificance"><code>TransitionsInTimeseries.ThresholdSignificance</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ThresholdSignificance(threshold::Real; tail = :right) &lt;: Significance</code></pre><p>A configuration struct for significance testing in <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a>. Significance is estimated by comparing the value of each change metric with the given <code>threshold</code>. Values that exceed the threshold (if <code>tail = :right</code>) or subseed the threshold (if <code>tail = :left</code>) are deemed significant. If <code>tail = :both</code> then either condition is checked.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/significance/basic_stat_significance.jl#L1-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.SigmaSignificance" href="#TransitionsInTimeseries.SigmaSignificance"><code>TransitionsInTimeseries.SigmaSignificance</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SigmaSignificance(; factor = 3.0, tail = :both) &lt;: Significance</code></pre><p>A configuration struct for significance testing <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a>. When used with <a href="#TransitionsInTimeseries.ChangesResults"><code>ChangesResults</code></a>, significance is estimated by comparing how many standard deviations (<code>σ</code>) the value exceeds the mean value (<code>μ</code>). Values that exceed (if <code>tail = :right</code>) <code>μ + factor*σ</code>, or subseed (if <code>tail = :left</code>) <code>μ - factor*σ</code> are deemed significant. If <code>tail = :both</code> then either condition is checked.</p><p><code>factor</code> can also be a vector of values, in which case a different value is used for each change metric.</p><p>See also <a href="#TransitionsInTimeseries.QuantileSignificance"><code>QuantileSignificance</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/significance/basic_stat_significance.jl#L81-L95">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.QuantileSignificance" href="#TransitionsInTimeseries.QuantileSignificance"><code>TransitionsInTimeseries.QuantileSignificance</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">QuantileSignificance(; p = 0.95, tail = :both) &lt;: Significance</code></pre><p>A configuration struct for significance testing <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a>. When used with <a href="#TransitionsInTimeseries.ChangesResults"><code>ChangesResults</code></a>, significance is estimated by comparing the value of each change metric with its <code>p</code>-quantile. Values that exceed the <code>p</code>-quantile (if <code>tail = :right</code>) or subseed the <code>1-p</code>-quantile (if <code>tail = :left</code>) are deemed significant. If <code>tail = :both</code> then either condition is checked.</p><p><code>QuantileSignficance</code> guarantees that some values will be significant by the very definition of what a quantile is. See also <a href="#TransitionsInTimeseries.SigmaSignificance"><code>SigmaSignificance</code></a> that is similar but does not have this guarantee.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/significance/basic_stat_significance.jl#L41-L55">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.SlopeChangeSignificance" href="#TransitionsInTimeseries.SlopeChangeSignificance"><code>TransitionsInTimeseries.SlopeChangeSignificance</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SlopeChangeSignificance(; moe_slope, moe_offset, slope_diff = moe_slope, pvalue = 0.05)</code></pre><p>Test whether the result of <a href="#TransitionsInTimeseries.SlopeChangeResults"><code>SlopeChangeResults</code></a> is statistically significant.</p><p>Two tests are done:</p><ol><li>Check whether the <em>margin of error</em> of the fitted parameters <code>a, b, c, d</code> of the two linear segments <code>a + b*t, c + d*t</code> is less than the specified margins of error, for a chosen <code>pvalue</code>.</li><li>Test that the two slopes <code>b, d</code> have difference greater than <code>slope_diff</code>.</li></ol><p>The Boolean <code>&amp;</code> of the above two is the final test.</p><p>The margin of error is simply half the size of the confidence interval, also known as radius of the confidence interval.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/significance/slope_significance.jl#L1-L16">source</a></section></article><h2 id="indicators"><a class="docs-heading-anchor" href="#indicators">Indicators</a><a id="indicators-1"></a><a class="docs-heading-anchor-permalink" href="#indicators" title="Permalink"></a></h2><p>Note that any Julia function can be an indicator or change metric, so the list here is only just a couple of indicators directly implemented in this package.</p><h3 id="Value-distribution"><a class="docs-heading-anchor" href="#Value-distribution">Value distribution</a><a id="Value-distribution-1"></a><a class="docs-heading-anchor-permalink" href="#Value-distribution" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Statistics.mean" href="#Statistics.mean"><code>Statistics.mean</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">mean(A::AbstractArray, w::AbstractWeights[, dims::Int])</code></pre><p>Compute the weighted mean of array <code>A</code> with weight vector <code>w</code> (of type <code>AbstractWeights</code>). If <code>dim</code> is provided, compute the weighted mean along dimension <code>dims</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">n = 20
x = rand(n)
w = rand(n)
mean(x, weights(w))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/StatsBase.jl/blob/v0.34.3/src/weights.jl#L665-L679">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="StatsBase.skewness" href="#StatsBase.skewness"><code>StatsBase.skewness</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">skewness(v, [wv::AbstractWeights], m=mean(v))</code></pre><p>Compute the standardized skewness of a real-valued array <code>v</code>, optionally specifying a weighting vector <code>wv</code> and a center <code>m</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/StatsBase.jl/blob/v0.34.3/src/moments.jl#L275-L280">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="StatsBase.kurtosis" href="#StatsBase.kurtosis"><code>StatsBase.kurtosis</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">kurtosis(v, [wv::AbstractWeights], m=mean(v))</code></pre><p>Compute the excess kurtosis of a real-valued array <code>v</code>, optionally specifying a weighting vector <code>wv</code> and a center <code>m</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/StatsBase.jl/blob/v0.34.3/src/moments.jl#L322-L327">source</a></section></article><h3 id="Critical-Slowing-Down"><a class="docs-heading-anchor" href="#Critical-Slowing-Down">Critical Slowing Down</a><a id="Critical-Slowing-Down-1"></a><a class="docs-heading-anchor-permalink" href="#Critical-Slowing-Down" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Statistics.var" href="#Statistics.var"><code>Statistics.var</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">var(x::AbstractArray, w::AbstractWeights, [dim]; mean=nothing, corrected=false)</code></pre><p>Compute the variance of a real-valued array <code>x</code>, optionally over a dimension <code>dim</code>. Observations in <code>x</code> are weighted using weight vector <code>w</code>. The uncorrected (when <code>corrected=false</code>) sample variance is defined as:</p><p class="math-container">\[\frac{1}{\sum{w}} \sum_{i=1}^n {w_i\left({x_i - μ}\right)^2 }\]</p><p>where <span>$n$</span> is the length of the input and <span>$μ$</span> is the mean. The unbiased estimate (when <code>corrected=true</code>) of the population variance is computed by replacing <span>$\frac{1}{\sum{w}}$</span> with a factor dependent on the type of weights used:</p><ul><li><code>AnalyticWeights</code>: <span>$\frac{1}{\sum w - \sum {w^2} / \sum w}$</span></li><li><code>FrequencyWeights</code>: <span>$\frac{1}{\sum{w} - 1}$</span></li><li><code>ProbabilityWeights</code>: <span>$\frac{n}{(n - 1) \sum w}$</span> where <span>$n$</span> equals <code>count(!iszero, w)</code></li><li><code>Weights</code>: <code>ArgumentError</code> (bias correction not supported)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/StatsBase.jl/blob/v0.34.3/src/moments.jl#L4-L20">source</a></section><section><div><pre><code class="language-julia hljs">var(ce::CovarianceEstimator, x::AbstractVector; mean=nothing)</code></pre><p>Compute the variance of the vector <code>x</code> using the estimator <code>ce</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaStats/StatsBase.jl/blob/v0.34.3/src/cov.jl#L211-L215">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.ar1_whitenoise" href="#TransitionsInTimeseries.ar1_whitenoise"><code>TransitionsInTimeseries.ar1_whitenoise</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ar1_whitenoise(x::AbstractVector)</code></pre><p>Return the AR1 regression coefficient of a time series <code>x</code> by computing the analytic solution of the least-square parameter estimation under white-noise assumption for the data-generating process:</p><p class="math-container">\[\theta = \sum_{i=2}^{n} x_i  x_{i-1} / \sum_{i=2}^{n} x_{i-1}^2\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/indicators/critical_slowing_down.jl#L4-L14">source</a></section></article><h3 id="Spectrum"><a class="docs-heading-anchor" href="#Spectrum">Spectrum</a><a id="Spectrum-1"></a><a class="docs-heading-anchor-permalink" href="#Spectrum" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.LowfreqPowerSpectrum" href="#TransitionsInTimeseries.LowfreqPowerSpectrum"><code>TransitionsInTimeseries.LowfreqPowerSpectrum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LowfreqPowerSpectrum(; q_lofreq = 0.1)</code></pre><p>Return a <a href="#TransitionsInTimeseries.PrecomputableFunction"><code>PrecomputableFunction</code></a> containing all the necessary fields to generate a <a href="#TransitionsInTimeseries.PrecomputedLowfreqPowerSpectrum"><code>PrecomputedLowfreqPowerSpectrum</code></a>. The latter can be initialized by <a href="#TransitionsInTimeseries.precompute"><code>precompute</code></a>:</p><pre><code class="language-julia hljs">lfps = precompute( LowfreqPowerSpectrum() )</code></pre><p>Keyword arguments:</p><ul><li><code>q_lofreq</code>: a number between <code>0</code> and <code>1</code> that characterises which portion of the</li></ul><p>frequency spectrum is considered to be low. For instance, <code>q_lofreq = 0.1</code> implies  that the lowest 10% of frequencies are considered to be the low ones.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/indicators/spectral.jl#L2-L17">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.PrecomputedLowfreqPowerSpectrum" href="#TransitionsInTimeseries.PrecomputedLowfreqPowerSpectrum"><code>TransitionsInTimeseries.PrecomputedLowfreqPowerSpectrum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PrecomputedLowfreqPowerSpectrum</code></pre><p>A struct containing all the precomputed fields to efficiently perform repetitive computation of the low-frequency power spectrum (LFPS), a number between <code>0</code> and <code>1</code> that characterizes the amount of power contained in the low frequencies of the power density spectrum of <code>x</code>. Once <code>lfps::PrecomputedLowfreqPowerSpectrum</code> is initialized, it can be used as a function to obtain the LFPS of <code>x::AbstractVector</code> by:</p><pre><code class="language-julia hljs">lfps(x)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/indicators/spectral.jl#L22-L34">source</a></section></article><h3 id="Nonlinear-dynamics"><a class="docs-heading-anchor" href="#Nonlinear-dynamics">Nonlinear dynamics</a><a id="Nonlinear-dynamics-1"></a><a class="docs-heading-anchor-permalink" href="#Nonlinear-dynamics" title="Permalink"></a></h3><p>Indicators that come from nonlinear timeseries analysis typically quantify some entropy-like or complexity measure from the timeseries. Thousands (<em>literally</em>) such measures are provided out of the box by the <a href="https://juliadynamics.github.io/DynamicalSystemsDocs.jl/complexitymeasures/stable/">ComplexityMeasures.jl</a> package. Given that any of these may be used as an indicator or change metric, we made the decision to not copy-paste any measure here, as it is easy for the user to use any of them.</p><p>For example, using the permutation entropy as an indicator is as simple as doing</p><pre><code class="language-julia hljs">using ComplexityMeasures
est = OrdinalPatterns(; m = 3) # order 3
# create a function that given timeseries returns permutation entropy
indicator = x -&gt; entropy_normalized(est, x)</code></pre><p>and giving the created <code>indicator</code> to e.g., <a href="#TransitionsInTimeseries.SlidingWindowConfig"><code>SlidingWindowConfig</code></a>.</p><h2 id="change_metrics"><a class="docs-heading-anchor" href="#change_metrics">Change metrics</a><a id="change_metrics-1"></a><a class="docs-heading-anchor-permalink" href="#change_metrics" title="Permalink"></a></h2><h3 id="Slope"><a class="docs-heading-anchor" href="#Slope">Slope</a><a id="Slope-1"></a><a class="docs-heading-anchor-permalink" href="#Slope" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.kendalltau" href="#TransitionsInTimeseries.kendalltau"><code>TransitionsInTimeseries.kendalltau</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">kendalltau(x::AbstractVector)</code></pre><p>Compute the kendall-τ correlation coefficient of the time series <code>x</code>. <code>kendalltau</code> can be used as a change metric focused on trend.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/change_metrics/slope.jl#L7-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.spearman" href="#TransitionsInTimeseries.spearman"><code>TransitionsInTimeseries.spearman</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">spearman(x::AbstractVector)</code></pre><p>Compute the spearman correlation coefficient of the time series <code>x</code>. <code>spearman</code> can be used as a change metric focused on trend.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/change_metrics/slope.jl#L15-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.RidgeRegressionSlope" href="#TransitionsInTimeseries.RidgeRegressionSlope"><code>TransitionsInTimeseries.RidgeRegressionSlope</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RidgeRegressionSlope(; lambda = 0.0) → rr</code></pre><p>Return a <a href="#TransitionsInTimeseries.PrecomputableFunction"><code>PrecomputableFunction</code></a> containing all the necessary fields to generate a <a href="#TransitionsInTimeseries.PrecomputedRidgeRegressionSlope"><code>PrecomputedRidgeRegressionSlope</code></a>. <code>rr</code> can be used as a change metric focused on trend.</p><p><code>lambda</code> is a regularization constant, usually between <code>0</code> and <code>1</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/change_metrics/slope.jl#L23-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.PrecomputedRidgeRegressionSlope" href="#TransitionsInTimeseries.PrecomputedRidgeRegressionSlope"><code>TransitionsInTimeseries.PrecomputedRidgeRegressionSlope</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PrecomputedRidgeRegressionSlope</code></pre><p>A struct containing the precomputed <a href="https://en.wikipedia.org/wiki/Ridge_regression">ridge regression</a> matrix. Once <code>rrslope::PrecomputedRidgeRegressionSlope</code> is initialized, it can be used as a function to obtain the ridge regression slope of <code>x::AbstractVector</code> by applying:</p><pre><code class="language-julia hljs">rrslope(x)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/change_metrics/slope.jl#L39-L49">source</a></section></article><h3 id="Value-distribution-differences"><a class="docs-heading-anchor" href="#Value-distribution-differences">Value distribution differences</a><a id="Value-distribution-differences-1"></a><a class="docs-heading-anchor-permalink" href="#Value-distribution-differences" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.difference_of_means" href="#TransitionsInTimeseries.difference_of_means"><code>TransitionsInTimeseries.difference_of_means</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">difference_of_means(x::AbstractArray)</code></pre><p>Return the absolute difference of the means of the first and second halfs of <code>x</code>. <code>difference_of_means</code> can be used as a change metric focused on value differences. Creating similar statistical differences using other moments instead of <code>mean</code> is trivial. In fact, the source of <code>difference_of_means</code> is just:</p><pre><code class="language-julia hljs"># assumes 1-based indexing
n = length(x)
x1 = view(x, 1:n÷2)
x2 = view(x, (n÷2 + 1):n)
return abs(mean(x1) - mean(x2))</code></pre><p><code>difference_of_means</code> can also sensibly be used for windows of size 2, in which case the change metric timeseries is the same as the <code>abs.(diff(...))</code> of the indicator timeseries.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/change_metrics/valuediff.jl#L1-L19">source</a></section></article><h2 id="own_indicator"><a class="docs-heading-anchor" href="#own_indicator">Make your own indicator/metric!</a><a id="own_indicator-1"></a><a class="docs-heading-anchor-permalink" href="#own_indicator" title="Permalink"></a></h2><p>The only difference between what is an &quot;indicator&quot; and what is a &quot;change metric&quot; is purely conceptual. As far as the code base of TransitionsInTimeseries.jl is concerned, they are both functions <code>f: x::AbstractVector{Real} -&gt; f(x)::Real</code>. As a user you may give any such function for an indicator or change metric.</p><p>There are situations where you may optimize such a function based on knowledge of input <code>x</code> type and length, in which case you may use <code>PrecomputableFunction</code>:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.PrecomputableFunction" href="#TransitionsInTimeseries.PrecomputableFunction"><code>TransitionsInTimeseries.PrecomputableFunction</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PrecomputableFunction</code></pre><p>Supertype of structs containing the necessary field to precompute a <code>::Function</code> by:</p><pre><code class="language-julia hljs">precompute(f::PrecomputableFunction, t)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/misc/precomputation.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.precompute" href="#TransitionsInTimeseries.precompute"><code>TransitionsInTimeseries.precompute</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">precompute(f, t)</code></pre><p>Precompute the function <code>f</code> given a time vector <code>t</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/misc/precomputation.jl#L12-L16">source</a></section></article><h2 id="Surrogates"><a class="docs-heading-anchor" href="#Surrogates">Surrogates</a><a id="Surrogates-1"></a><a class="docs-heading-anchor-permalink" href="#Surrogates" title="Permalink"></a></h2><p>For the surrogate generation, you can use any subtype of <code>Surrogate</code> defined in <a href="https://juliadynamics.github.io/TimeseriesSurrogates.jl/v1.0/#Surrogate-methods-1">Timeseriessurrogates.jl</a>.</p><h2 id="Sliding-windows"><a class="docs-heading-anchor" href="#Sliding-windows">Sliding windows</a><a id="Sliding-windows-1"></a><a class="docs-heading-anchor-permalink" href="#Sliding-windows" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.WindowViewer" href="#TransitionsInTimeseries.WindowViewer"><code>TransitionsInTimeseries.WindowViewer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">WindowViewer(x; width, stride)</code></pre><p>Initialize an iterator that generates views over the given timeseries <code>x</code> based on a window with a given <code>width</code>, incrementing the window views with the given <code>stride</code>. You can use this directly with <code>map</code>, such as <code>map(std, WindowViewer(x, ...))</code> would give you the moving-window-timeseries of the <code>std</code> of <code>x</code>.</p><p>If not given, the keywords <code>width, stride</code> are respectively taken as <code>default_window_width(x)</code> and <code>1</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/misc/windowing.jl#L8-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.windowmap" href="#TransitionsInTimeseries.windowmap"><code>TransitionsInTimeseries.windowmap</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">windowmap(f::Function, x::AbstractVector; kwargs...) → mapped_f</code></pre><p>A shortcut for first generating a <code>wv = WindowViewer(x; kwargs...)</code> and then applying <code>mapped_f = map(f, wv)</code>. If <code>x</code> is accompanied by a time vector <code>t</code>, you probably also want to call this function with <code>t</code> instead of <code>x</code> and with one of <code>mean, midpoint, midvalue</code> as <code>f</code> to obtain a time vector for the <code>mapped_f</code> output.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/misc/windowing.jl#L45-L52">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.windowmap!" href="#TransitionsInTimeseries.windowmap!"><code>TransitionsInTimeseries.windowmap!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">windowmap!(f::Function, out, x::AbstractVector; kwargs...)</code></pre><p>Same as <a href="#TransitionsInTimeseries.windowmap"><code>windowmap</code></a>, but writes the output in-place in <code>out</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/misc/windowing.jl#L58-L62">source</a></section></article><h2 id="Load-data"><a class="docs-heading-anchor" href="#Load-data">Load data</a><a id="Load-data-1"></a><a class="docs-heading-anchor-permalink" href="#Load-data" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.load_linear_vs_doublewell-Tuple{}" href="#TransitionsInTimeseries.load_linear_vs_doublewell-Tuple{}"><code>TransitionsInTimeseries.load_linear_vs_doublewell</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_linear_vs_doublewell()</code></pre><p>Load prototypical data from a linear and a double-well model to test some indicators.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/misc/load_data.jl#L1-L6">source</a></section></article><h2 id="Visualization"><a class="docs-heading-anchor" href="#Visualization">Visualization</a><a id="Visualization-1"></a><a class="docs-heading-anchor-permalink" href="#Visualization" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.plot_indicator_changes" href="#TransitionsInTimeseries.plot_indicator_changes"><code>TransitionsInTimeseries.plot_indicator_changes</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">plot_indicator_changes(res) → (fig, axs)</code></pre><p>Return <code>fig::Figure</code> and <code>axs::Matrix{Axis}</code>, on which <code>res::ChangesResults</code> has been visualised.</p><p><strong>Keyword arguments:</strong></p><ul><li><code>colors = default_colors</code> sets the colors of the line plots that are to</li></ul><p>be cycled through. The default correspond to the color scheme of Julia Dynamics.</p><ul><li>`indicator<em>names = default</em>indicator<em>label(res), chametric</em>names =</li></ul><p>default<em>chametric</em>label(res)<code>sets the labels for the indicators and the change  metrics, with the default inferring them from the names of</code>res.config.indicators<code>and</code>res.config.change_metrics`.</p><ul><li><code>accent_linewidth = 3</code> sets the line width for the original signals (the</li></ul><p>surrogates have <code>linewidth = 1</code>)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/visualizations.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.plot_significance!" href="#TransitionsInTimeseries.plot_significance!"><code>TransitionsInTimeseries.plot_significance!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">plot_significance!(axs, res, signif)</code></pre><p>Update the <code>axs::Matrix{Axis}</code> of a figure obtained with <code>plot_indicator_changes(res)</code> with the <code>signif::SurrogatesSignificance</code>.</p><p><strong>Keyword arguments:</strong></p><ul><li><code>flags = nothing</code> provides the significance flags, for instance obtained by</li></ul><p>thresholding the pvalues.</p><ul><li><code>nsurro = 20</code> sets the number of surrogates to plot.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/visualizations.jl#L18-L27">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="TransitionsInTimeseries.plot_changes_significance" href="#TransitionsInTimeseries.plot_changes_significance"><code>TransitionsInTimeseries.plot_changes_significance</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">plot_changes_significance(res, signif) → (fig, axs)</code></pre><p>Return <code>fig::Figure</code> and <code>axs::Matrix{Axis}</code>, on which <code>res::ChangesResults</code> and <code>signif::SurrogatesSignificance</code> have been visualised. The source code is as simple as:</p><pre><code class="language-julia hljs">fig, axs = plot_indicator_changes(res; kwargs...)
plot_significance!(axs, res, signif; kwargs...)</code></pre><p>For more information, refer to <a href="#TransitionsInTimeseries.plot_indicator_changes"><code>plot_indicator_changes</code></a> and <a href="#TransitionsInTimeseries.plot_significance!"><code>plot_significance!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/f1e90b7b2a50a25a21e309cd86e9ad1ee6e9a0f3/src/visualizations.jl#L30-L43">source</a></section></article><h2 id="Utils"><a class="docs-heading-anchor" href="#Utils">Utils</a><a id="Utils-1"></a><a class="docs-heading-anchor-permalink" href="#Utils" title="Permalink"></a></h2><pre><code class="language-docs hljs">default_window_width</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../examples/do-events/">« Dansgaard-Oescher events and Critical Slowing Down</a><a class="docs-footer-nextpage" href="../refs/">References »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Wednesday 22 May 2024 16:05">Wednesday 22 May 2024</span>. Using Julia version 1.10.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
