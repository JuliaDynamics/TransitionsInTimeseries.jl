<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · TransitionsInTimeseries.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="https://fonts.googleapis.com/css?family=Montserrat|Source+Code+Pro&amp;display=swap" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">TransitionsInTimeseries.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">TransitionsInTimeseries.jl</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/logistic/">Permutation entropy for dynamic regime changes</a></li><li><a class="tocitem" href="../examples/do-events/">Dansgaard-Oescher events and Critical Slowing Down</a></li></ul></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Main-analysis-functions"><span>Main analysis functions</span></a></li><li><a class="tocitem" href="#Significance-testing"><span>Significance testing</span></a></li><li><a class="tocitem" href="#indicators"><span>Indicators</span></a></li><li><a class="tocitem" href="#change_metrics"><span>Change metrics</span></a></li><li><a class="tocitem" href="#own_indicator"><span>Make your own indicator/metric!</span></a></li><li><a class="tocitem" href="#Surrogates"><span>Surrogates</span></a></li><li><a class="tocitem" href="#Sliding-windows"><span>Sliding windows</span></a></li><li><a class="tocitem" href="#Load-data"><span>Load data</span></a></li></ul></li><li><a class="tocitem" href="../refs/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/main/docs/src/api.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h2 id="Main-analysis-functions"><a class="docs-heading-anchor" href="#Main-analysis-functions">Main analysis functions</a><a id="Main-analysis-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Main-analysis-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.IndicatorsChangesConfig" href="#TransitionsInTimeseries.IndicatorsChangesConfig"><code>TransitionsInTimeseries.IndicatorsChangesConfig</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">IndicatorsChangesConfig</code></pre><p>Supertype used to define how indicators and their changes are estimated in <a href="#TransitionsInTimeseries.estimate_indicator_changes"><code>estimate_indicator_changes</code></a>. Valid subtypes are:</p><ul><li><a href="#TransitionsInTimeseries.SlidingWindowConfig"><code>SlidingWindowConfig</code></a>.</li><li><a href="#TransitionsInTimeseries.SegmentedWindowConfig"><code>SegmentedWindowConfig</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/analysis/api.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.SlidingWindowConfig" href="#TransitionsInTimeseries.SlidingWindowConfig"><code>TransitionsInTimeseries.SlidingWindowConfig</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SlidingWindowConfig &lt;: IndicatorsChangesConfig
SlidingWindowConfig(indicators, change_metrics; kwargs...)</code></pre><p>A configuration that can be given to <a href="#TransitionsInTimeseries.estimate_indicator_changes"><code>estimate_indicator_changes</code></a>. It estimates transitions by a sliding window approach:</p><ol><li>Estimate the timeseries of an indicator by sliding a window over the input timeseries.</li><li>Estimate changes of an indicator by sliding a window of the change metric over the indicator timeseries.</li></ol><p><code>indicators</code> is a tuple of indicators (or a single indicator). <code>change_metrics</code> is also a tuple or a single function. If a single function, the same change metric is used for all provided indicators. This way the analysis can be efficiently repeated for many indicators and/or change metrics.</p><p>Both indicators and change metrics are <strong>generic Julia functions</strong> that input an <code>x::AbstractVector</code> and output an <code>s::Real</code>. Any function may be given and see <a href="#own_indicator">making custom indicators/change metrics</a> in the documentation for more information on possible optimizations.</p><p>The results output corresponding to <code>SlidingWindowConfig</code> is <a href="#TransitionsInTimeseries.SlidingWindowResults"><code>SlidingWindowResults</code></a>.</p><p><strong>Keyword arguments</strong></p><ul><li><code>width_ind::Int=100, stride_ind::Int=1</code>: width and stride given to <a href="#TransitionsInTimeseries.WindowViewer"><code>WindowViewer</code></a> to compute the indicator from the input timeseries.</li><li><code>width_cha::Int=50, stride_cha::Int=1</code>: width and stride given to <a href="#TransitionsInTimeseries.WindowViewer"><code>WindowViewer</code></a> to compute the change metric timeseries from the indicator timeseries.</li><li><code>whichtime = midpoint</code>: The time vector corresponding to the indicators / change metric timeseries is obtained from <code>t</code> in <a href="#TransitionsInTimeseries.estimate_indicator_changes"><code>estimate_indicator_changes</code></a> using the keyword <code>whichtime</code>. Options include:<ul><li><code>last</code>: use the last timepoint of each window</li><li><code>midpoint</code>: use the mid timepoint of each time window</li><li><code>first</code>: use first timepoint of each window</li></ul>In fact, the indicators time vector is computed simply via<pre><code class="language-julia hljs">t_indicator = windowmap(whichtime, t; width_ind, stride_ind)
t_change = windowmap(whichtime, t_indicator; width_cha, stride_cha)</code></pre>so any other function of the time window may be given to extract the time point itself, such as <code>mean</code> or <code>median</code>.</li><li><code>T = Float64</code>: Element type of input timeseries to initialize some computations.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/analysis/sliding_window.jl#L1-L44">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.SegmentedWindowConfig" href="#TransitionsInTimeseries.SegmentedWindowConfig"><code>TransitionsInTimeseries.SegmentedWindowConfig</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SegmentedWindowConfig &lt;: IndicatorsChangeConfig
SegmentedWindowConfig(indicators, change_metrics, tseg_start, tseg_end; kwargs...)</code></pre><p>A configuration that can be given to <a href="#TransitionsInTimeseries.estimate_indicator_changes"><code>estimate_indicator_changes</code></a>. It estimates transitions by estimating indicators and changes in user-defined window segments as follows:</p><ol><li>For each segment specified, estimate the corresponding indicator timeseries by sliding a window over the input timeseries (within the window segment).</li><li>For each segment of the indicator timeseries, estimate a scalar change metric by applying the change metric over the full segment of the indicator timeseries.d</li></ol><p><code>tseg_start, tseg_end</code> are the starts and ends of the window segments (the window segments may overlap, that&#39;s okay). <code>indicators, change_metrics</code> are identical as in <a href="#TransitionsInTimeseries.SlidingWindowConfig"><code>SlidingWindowConfig</code></a>.</p><p>The results output corresponding to <code>SlidingWindowConfig</code> is <a href="#TransitionsInTimeseries.SegmentedWindowResults"><code>SegmentedWindowResults</code></a>.</p><p><strong>Keyword arguments</strong></p><ul><li><code>width_ind::Int=100, stride_ind::Int=1, whichtime = midpoint, T = Float64</code>: keywords identical as in <a href="#TransitionsInTimeseries.SlidingWindowConfig"><code>SlidingWindowConfig</code></a>.</li><li><code>min_width_cha::Int=typemax(Int)</code>: minimal width required to perform the change metric estimation. If a segment is not sufficiently long, the change metric is <code>NaN</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/analysis/segmented_window.jl#L1-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.estimate_indicator_changes" href="#TransitionsInTimeseries.estimate_indicator_changes"><code>TransitionsInTimeseries.estimate_indicator_changes</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">estimate_indicator_changes(config::IndicatorsChangesConfig, x [,t]) → result</code></pre><p>Estimate possible transitions for input timeseries <code>x</code> using the approach specified in the configuration type <code>config</code>, see <a href="#TransitionsInTimeseries.IndicatorsChangesConfig"><code>IndicatorsChangesConfig</code></a> for possibilities. <code>t</code> is the time vector corresponding to <code>x</code>, which defaults to <code>eachindex(x)</code>.</p><p>Return the output as subtype of <a href="#TransitionsInTimeseries.IndicatorsChangesResults"><code>IndicatorsChangesResults</code></a>. The particular form of the output depends on the <code>config</code> and is described in its docstring. Regardless of type, <code>result</code> can always be given to <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a> to deduce which possible transitions are statistically significant using a variety of significance tests.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/analysis/api.jl#L12-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.IndicatorsChangesResults" href="#TransitionsInTimeseries.IndicatorsChangesResults"><code>TransitionsInTimeseries.IndicatorsChangesResults</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">IndicatorsChangesResults</code></pre><p>Supertype used to gather results of <a href="#TransitionsInTimeseries.estimate_indicator_changes"><code>estimate_indicator_changes</code></a>. The concrete subtype instances are described in the docstrings of configuration types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/analysis/api.jl#L28-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.SlidingWindowResults" href="#TransitionsInTimeseries.SlidingWindowResults"><code>TransitionsInTimeseries.SlidingWindowResults</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SlidingWindowResults &lt;: IndicatorsChangesResults</code></pre><p>A struct containing the output of <a href="#TransitionsInTimeseries.estimate_indicator_changes"><code>estimate_indicator_changes</code></a> used with <a href="#TransitionsInTimeseries.SlidingWindowConfig"><code>SlidingWindowConfig</code></a>. It can be used for further analysis, visualization, or given to <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a>.</p><p>It has the following fields that the user may access</p><ul><li><p><code>x</code>: the input timeseries.</p></li><li><p><code>t</code>: the time vector of the input timeseries.</p></li><li><p><code>x_indicator</code>, the indicator timeseries (matrix with each column one indicator).</p></li><li><p><code>t_indicator</code>, the time vector of the indicator timeseries.</p></li><li><p><code>x_change</code>, the change metric timeseries (matrix with each column one change metric).</p></li><li><p><code>t_change</code>, the time vector of the change metric timeseries.</p></li><li><p><code>config::SlidingWindowConfig</code>, what was used for the analysis.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/analysis/sliding_window.jl#L126-L145">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.SegmentedWindowResults" href="#TransitionsInTimeseries.SegmentedWindowResults"><code>TransitionsInTimeseries.SegmentedWindowResults</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SegmentedWindowResults &lt;: IndicatorsChangesResults</code></pre><p>A struct containing the output of <a href="#TransitionsInTimeseries.estimate_indicator_changes"><code>estimate_indicator_changes</code></a> used with <a href="#TransitionsInTimeseries.SegmentedWindowConfig"><code>SegmentedWindowConfig</code></a>. It can be used for further analysis, visualization, or given to <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a>.</p><p>It has the following fields that the user may access</p><ul><li><p><code>x</code>: the input timeseries.</p></li><li><p><code>t</code>: the time vector of the input timeseries.</p></li><li><p><code>x_indicator::Vector{Matrix}</code>, with <code>x_indicator[k]</code> the indicator timeseries (matrix  with each column one indicator) of the <code>k</code>-th segment.</p></li><li><p><code>t_indicator::Vector{Vector}</code>, with <code>t_indicator[k]</code> the time vector of the indicator timeseries for the <code>k</code>-th segment.</p></li><li><p><code>x_change::Matrix</code>, the change metric values with <code>x[k, i]</code> the change metric of the <code>i</code>-th indicator for the <code>k</code>-th segment.</p></li><li><p><code>t_change</code>, the time vector of the change metric.</p></li><li><p><code>config::SegmentedWindowConfig</code>, what was used for the analysis.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/analysis/segmented_window.jl#L107-L129">source</a></section></article><h2 id="Significance-testing"><a class="docs-heading-anchor" href="#Significance-testing">Significance testing</a><a id="Significance-testing-1"></a><a class="docs-heading-anchor-permalink" href="#Significance-testing" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.significant_transitions" href="#TransitionsInTimeseries.significant_transitions"><code>TransitionsInTimeseries.significant_transitions</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">significant_transitions(res::IndicatorsChangesResults, signif::TransitionsSignificance)</code></pre><p>Estimate significant transtions in <code>res</code> using the method described by <code>signif</code>. Return <code>flags</code>, a Boolean matrix with identical size as <code>res.x_change</code>. It contains trues wherever a change metric of <code>res</code> is deemed significant.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/significance/api_significance.jl#L12-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.TransitionsSignificance" href="#TransitionsInTimeseries.TransitionsSignificance"><code>TransitionsInTimeseries.TransitionsSignificance</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TransitionsSignificance</code></pre><p>Supertype used to test for significance in <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a>. Valid subtypes are:</p><ul><li><a href="#TransitionsInTimeseries.SurrogatesSignificance"><code>SurrogatesSignificance</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/significance/api_significance.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.SurrogatesSignificance" href="#TransitionsInTimeseries.SurrogatesSignificance"><code>TransitionsInTimeseries.SurrogatesSignificance</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SurrogatesSignificance &lt;: TransitionsSignificance
SurrogatesSignificance(; surrogate = RandomFourier(), n = 10_000, tail = :both, rng)</code></pre><p>A configuration struct for significance testing <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a> using timeseries surrogates.</p><p><strong>Keyword arguments</strong></p><ul><li><code>surromethod = RandomFourier()</code>: method to generate surrogates</li><li><code>n = 1000</code>: how many surrogates to generate</li><li><code>rng = Random.default_rng()</code>: random number generator for the surrogates</li><li><code>p = 0.05</code>: threshold for significance of the p-value</li><li><code>tail = :both</code>: tail type used, see below</li></ul><p><strong>Description</strong></p><p>When used with <a href="#TransitionsInTimeseries.IndicatorsChangesResults"><code>IndicatorsChangesResults</code></a>, significance is estimated as follows: <code>n</code> surrogates from the input timeseries are generated using <code>surromethod</code>, which is any <code>Surrogate</code> subtype provided by <a href="https://juliadynamics.github.io/TimeseriesSurrogates.jl/dev/api/">TimeseriesSurrogates.jl</a>. For each surrogate, the indicator and then change metric timeseries is extracted. The values of the surrogate change metrics form a distribution of values (one at each time point). The value of the original change metric is compared to that of the surrogate distribution and a p-value is extracted according to the specified <code>tail</code>. The p-value is compared with <code>p</code> to claim significance. After using <code>SurrogatesSignificance</code>, you may access the full p-values before thresholding in the field <code>.pvalues</code> (to e.g., threshold with different <code>p</code>).</p><p>The p-value is simply the proportion of surrogate change metric values that exceed (for <code>tail = :right</code>) or subseed (<code>tail = :left</code>) the original change metric at each given time point. Use <code>tail = :left</code> if the surrogate data are expected to have higher change metric, discriminatory statistic values. This is the case for statistics that quantify entropy. For statistics that quantify autocorrelation, use <code>tail = :right</code> instead. For anything else, use the default <code>tail = :both</code>. An iterable of <code>tail</code> values can also be given, in which case a specific <code>tail</code> is used for each change metric in <a href="#TransitionsInTimeseries.IndicatorsChangesResults"><code>IndicatorsChangesResults</code></a>.</p><p>Note that the raw p-values can be accessed in the field <code>.pvalues</code>, after calling the <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a> function with <code>SurrogatesSignificance</code>, in case you wish to obtain a different threshold of the p-values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/significance/surrogates_significance.jl#L1-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.QuantileSignificance" href="#TransitionsInTimeseries.QuantileSignificance"><code>TransitionsInTimeseries.QuantileSignificance</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">QuantileSignificance(; p = 0.95, tail = :both) &lt;: TransitionsSignificance</code></pre><p>A configuration struct for significance testing <a href="#TransitionsInTimeseries.significant_transitions"><code>significant_transitions</code></a>. When used with <a href="#TransitionsInTimeseries.IndicatorsChangesResults"><code>IndicatorsChangesResults</code></a>, significance is estimated by comparing the value of each change metric with its <code>p</code>-quantile. Values that exceed the <code>p</code>-quantile (if <code>tail = :right</code>) or subseed the <code>1-p</code>-quantile (if <code>tail = :left</code>) are deemed significant. If <code>tail = :both</code> then either condition is checked.</p><p><code>QuantileSignficance</code> guarantees that some values will be significant by the very definition of what a quantile is. See also <a href="@ref"><code>SigmaSignificance</code></a> that is similar but does not have this guarantee.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/significance/quantile_significance.jl#L1-L15">source</a></section></article><h2 id="indicators"><a class="docs-heading-anchor" href="#indicators">Indicators</a><a id="indicators-1"></a><a class="docs-heading-anchor-permalink" href="#indicators" title="Permalink"></a></h2><h3 id="Value-distribution"><a class="docs-heading-anchor" href="#Value-distribution">Value distribution</a><a id="Value-distribution-1"></a><a class="docs-heading-anchor-permalink" href="#Value-distribution" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Statistics.mean-Tuple{Any}" href="#Statistics.mean-Tuple{Any}"><code>Statistics.mean</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mean(itr)</code></pre><p>Compute the mean of all elements in a collection.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>If <code>itr</code> contains <code>NaN</code> or <a href="@ref"><code>missing</code></a> values, the result is also <code>NaN</code> or <code>missing</code> (<code>missing</code> takes precedence if array contains both). Use the <a href="@ref"><code>skipmissing</code></a> function to omit <code>missing</code> entries and compute the mean of non-missing values.</p></div></div><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; using Statistics

julia&gt; mean(1:20)
10.5

julia&gt; mean([1, missing, 3])
missing

julia&gt; mean(skipmissing([1, missing, 3]))
2.0</code></pre></div></section></article><article class="docstring"><header><a class="docstring-binding" id="StatsBase.skewness" href="#StatsBase.skewness"><code>StatsBase.skewness</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">skewness(v, [wv::AbstractWeights], m=mean(v))</code></pre><p>Compute the standardized skewness of a real-valued array <code>v</code>, optionally specifying a weighting vector <code>wv</code> and a center <code>m</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="StatsBase.kurtosis" href="#StatsBase.kurtosis"><code>StatsBase.kurtosis</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">kurtosis(v, [wv::AbstractWeights], m=mean(v))</code></pre><p>Compute the excess kurtosis of a real-valued array <code>v</code>, optionally specifying a weighting vector <code>wv</code> and a center <code>m</code>.</p></div></section></article><h3 id="Critical-Slowing-Down"><a class="docs-heading-anchor" href="#Critical-Slowing-Down">Critical Slowing Down</a><a id="Critical-Slowing-Down-1"></a><a class="docs-heading-anchor-permalink" href="#Critical-Slowing-Down" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Statistics.var-Tuple{AbstractArray}" href="#Statistics.var-Tuple{AbstractArray}"><code>Statistics.var</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">var(itr; corrected::Bool=true, mean=nothing[, dims])</code></pre><p>Compute the sample variance of collection <code>itr</code>.</p><p>The algorithm returns an estimator of the generative distribution&#39;s variance under the assumption that each entry of <code>itr</code> is a sample drawn from the same unknown distribution, with the samples uncorrelated. For arrays, this computation is equivalent to calculating <code>sum((itr .- mean(itr)).^2) / (length(itr) - 1)</code>. If <code>corrected</code> is <code>true</code>, then the sum is scaled with <code>n-1</code>, whereas the sum is scaled with <code>n</code> if <code>corrected</code> is <code>false</code> where <code>n</code> is the number of elements in <code>itr</code>.</p><p>If <code>itr</code> is an <code>AbstractArray</code>, <code>dims</code> can be provided to compute the variance over dimensions.</p><p>A pre-computed <code>mean</code> may be provided. When <code>dims</code> is specified, <code>mean</code> must be an array with the same shape as <code>mean(itr, dims=dims)</code> (additional trailing singleton dimensions are allowed).</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>If array contains <code>NaN</code> or <a href="@ref"><code>missing</code></a> values, the result is also <code>NaN</code> or <code>missing</code> (<code>missing</code> takes precedence if array contains both). Use the <a href="@ref"><code>skipmissing</code></a> function to omit <code>missing</code> entries and compute the variance of non-missing values.</p></div></div></div></section></article><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.ar1_whitenoise" href="#TransitionsInTimeseries.ar1_whitenoise"><code>TransitionsInTimeseries.ar1_whitenoise</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ar1_whitenoise(x::AbstractVector)</code></pre><p>Return the AR1 regression coefficient of a time series <code>x</code> by computing the analytic solution of the least-square parameter estimation under white-noise assumption for the data-generating process:</p><p class="math-container">\[\theta = \sum_{i=2}^{n} x_i  x_{i-1} / \sum_{i=2}^{n} x_{i-1}^2\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/indicators/critical_slowing_down.jl#L4-L14">source</a></section></article><h3 id="Spectrum"><a class="docs-heading-anchor" href="#Spectrum">Spectrum</a><a id="Spectrum-1"></a><a class="docs-heading-anchor-permalink" href="#Spectrum" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.LowfreqPowerSpectrum" href="#TransitionsInTimeseries.LowfreqPowerSpectrum"><code>TransitionsInTimeseries.LowfreqPowerSpectrum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LowfreqPowerSpectrum(; q_lofreq = 0.1)</code></pre><p>Return a <a href="#TransitionsInTimeseries.PrecomputableFunction"><code>PrecomputableFunction</code></a> containing all the necessary fields to generate a <a href="@ref"><code>PrecomputedLowfreqPowerSpectrum</code></a>. The latter can be initialized by <a href="@ref"><code>precompute</code></a>:</p><pre><code class="language-julia hljs">lfps = precompute( LowfreqPowerSpectrum() )</code></pre><p>Keyword arguments:</p><ul><li><code>q_lofreq</code>: a number between <code>0</code> and <code>1</code> that characterises which portion of the</li></ul><p>frequency spectrum is considered to be low. For instance, <code>q_lofreq = 0.1</code> implies  that the lowest 10% of frequencies are considered to be the low ones.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/indicators/spectral.jl#L2-L17">source</a></section></article><h3 id="Nonlinear-dynamics"><a class="docs-heading-anchor" href="#Nonlinear-dynamics">Nonlinear dynamics</a><a id="Nonlinear-dynamics-1"></a><a class="docs-heading-anchor-permalink" href="#Nonlinear-dynamics" title="Permalink"></a></h3><p>Indicators that come from nonlinear timeseries analysis typically quantify some entropy-like or complexity measure from the timeseries. Thousands (<em>literally</em>) such measures are provided out of the box by the <a href="https://juliadynamics.github.io/DynamicalSystemsDocs.jl/complexitymeasures/stable/">ComplexityMeasures.jl</a> package. Given that any of these may be used as an indicator or change metric, we made the decision to not copy-paste any measure here, as it is easy for the user to use any of them.</p><p>For example, using the permutation entropy as an indicator is as simple as doing</p><pre><code class="language-julia hljs">using ComplexityMeasures
est = OrdinalPatterns(; m = 3) # order 3
# create a function that given timeseries returns permutation entropy
indicator = x -&gt; entropy_normalized(est, x)</code></pre><p>and giving the created <code>indicator</code> to e.g., <a href="#TransitionsInTimeseries.SlidingWindowConfig"><code>SlidingWindowConfig</code></a>.</p><h2 id="change_metrics"><a class="docs-heading-anchor" href="#change_metrics">Change metrics</a><a id="change_metrics-1"></a><a class="docs-heading-anchor-permalink" href="#change_metrics" title="Permalink"></a></h2><h3 id="Slope"><a class="docs-heading-anchor" href="#Slope">Slope</a><a id="Slope-1"></a><a class="docs-heading-anchor-permalink" href="#Slope" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.kendalltau" href="#TransitionsInTimeseries.kendalltau"><code>TransitionsInTimeseries.kendalltau</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">kendalltau(x::AbstractVector)</code></pre><p>Compute the kendall-τ correlation coefficient of the time series <code>x</code>. <code>kendalltau</code> can be used as a change metric focused on trend.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/change_metrics/slope.jl#L6-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.spearman" href="#TransitionsInTimeseries.spearman"><code>TransitionsInTimeseries.spearman</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">spearman(x::AbstractVector)</code></pre><p>Compute the spearman correlation coefficient of the time series <code>x</code>. <code>spearman</code> can be used as a change metric focused on trend.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/change_metrics/slope.jl#L14-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.RidgeRegressionSlope" href="#TransitionsInTimeseries.RidgeRegressionSlope"><code>TransitionsInTimeseries.RidgeRegressionSlope</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RidgeRegressionSlope(; lambda = 0.0) → rr</code></pre><p>Return a <a href="#TransitionsInTimeseries.PrecomputableFunction"><code>PrecomputableFunction</code></a> containing all the necessary fields to generate a <a href="@ref"><code>PrecomputedRidgeRegressionSlope</code></a>. <code>rr</code> can be used as a change metric focused on trend.</p><p><code>lambda</code> is a regularization constant, usually between <code>0</code> and <code>1</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/change_metrics/slope.jl#L22-L30">source</a></section></article><h3 id="Value-distribution-differences"><a class="docs-heading-anchor" href="#Value-distribution-differences">Value distribution differences</a><a id="Value-distribution-differences-1"></a><a class="docs-heading-anchor-permalink" href="#Value-distribution-differences" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.difference_of_means" href="#TransitionsInTimeseries.difference_of_means"><code>TransitionsInTimeseries.difference_of_means</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">difference_of_means(x::AbstractArray)</code></pre><p>Return the absolute difference of the means of the first and second halfs of <code>x</code>. <code>difference_of_means</code> can be used as a change metric focused on value differences. Creating similar statistical differences using other moments instead of <code>mean</code> is trivial. In fact, the source of <code>difference_of_means</code> is just:</p><pre><code class="language-julia hljs"># assumes 1-based indexing
n = length(x)
x1 = view(x, 1:n÷2)
x2 = view(x, (n÷2 + 1):n)
return abs(mean(x1) - mean(x2))</code></pre><p><code>difference_of_means</code> can also sensibly be used for windows of size 2, in which case the change metric timeseries is the same as the <code>abs.(diff(...))</code> of the indicator timeseries.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/change_metrics/valuediff.jl#L1-L19">source</a></section></article><h2 id="own_indicator"><a class="docs-heading-anchor" href="#own_indicator">Make your own indicator/metric!</a><a id="own_indicator-1"></a><a class="docs-heading-anchor-permalink" href="#own_indicator" title="Permalink"></a></h2><p>The only difference between what is an &quot;indicator&quot; and what is a &quot;change metric&quot; is purely conceptual. As far as the code base of TransitionsInTimeseries.jl is concerned, they are both functions <code>f: x::AbstractVector{Real} -&gt; f(x)::Real</code>. As a user you may give any such function for an indicator or change metric.</p><p>There are situations where you may optimize such a function based on knowledge of input <code>x</code> type and length, in which case you may use <code>PrecomputableFunction</code>:</p><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.PrecomputableFunction" href="#TransitionsInTimeseries.PrecomputableFunction"><code>TransitionsInTimeseries.PrecomputableFunction</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PrecomputableFunction</code></pre><p>Supertype of structs containing the necessary field to precompute a <code>::Function</code> by:</p><pre><code class="language-julia hljs">precompute(f::PrecomputableFunction, t)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/misc/precomputation.jl#L1-L9">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>precompute</code>. Check Documenter&#39;s build log for details.</p></div></div><h2 id="Surrogates"><a class="docs-heading-anchor" href="#Surrogates">Surrogates</a><a id="Surrogates-1"></a><a class="docs-heading-anchor-permalink" href="#Surrogates" title="Permalink"></a></h2><p>For the surrogate generation, you can use any subtype of <code>Surrogate</code> defined in <a href="https://juliadynamics.github.io/TimeseriesSurrogates.jl/v1.0/#Surrogate-methods-1">Timeseriessurrogates.jl</a>.</p><h2 id="Sliding-windows"><a class="docs-heading-anchor" href="#Sliding-windows">Sliding windows</a><a id="Sliding-windows-1"></a><a class="docs-heading-anchor-permalink" href="#Sliding-windows" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.WindowViewer" href="#TransitionsInTimeseries.WindowViewer"><code>TransitionsInTimeseries.WindowViewer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">WindowViewer(x; width, stride)</code></pre><p>Initialize an iterator that generates views over the given timeseries <code>x</code> based on a window with a given <code>width</code>, incrementing the window views with the given <code>stride</code>. You can use this directly with <code>map</code>, such as <code>map(std, WindowViewer(x, ...))</code> would give you the moving-window-timeseries of the <code>std</code> of <code>x</code>.</p><p>If not given, the keywords <code>width, stride</code> are taken as <a href="@ref"><code>default_window_width(x)</code></a> and <code>1</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/misc/windowing.jl#L8-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.windowmap" href="#TransitionsInTimeseries.windowmap"><code>TransitionsInTimeseries.windowmap</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">windowmap(f::Function, x::AbstractVector; kwargs...) → mapped_f</code></pre><p>A shortcut for first generating a <code>wv = WindowViewer(x; kwargs...)</code> and then applying <code>mapped_f = map(f, wv)</code>. If <code>x</code> is accompanied by a time vector <code>t</code>, you probably also want to call this function with <code>t</code> instead of <code>x</code> and with one of <code>mean, midpoint, midvalue</code> as <code>f</code> to obtain a time vector for the <code>mapped_f</code> output.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/misc/windowing.jl#L45-L52">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.windowmap!" href="#TransitionsInTimeseries.windowmap!"><code>TransitionsInTimeseries.windowmap!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">windowmap!(f::Function, out, x::AbstractVector; kwargs...)</code></pre><p>Same as <a href="#TransitionsInTimeseries.windowmap"><code>windowmap</code></a>, but writes the output in-place in <code>out</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/misc/windowing.jl#L58-L62">source</a></section></article><h2 id="Load-data"><a class="docs-heading-anchor" href="#Load-data">Load data</a><a id="Load-data-1"></a><a class="docs-heading-anchor-permalink" href="#Load-data" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="TransitionsInTimeseries.load_linear_vs_doublewell-Tuple{}" href="#TransitionsInTimeseries.load_linear_vs_doublewell-Tuple{}"><code>TransitionsInTimeseries.load_linear_vs_doublewell</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_linear_vs_doublewell()</code></pre><p>Load prototypical data from a linear and a double-well model to test some indicators.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/TransitionsInTimeseries.jl/blob/9c36be93cab6ec4a4df309e976ab73c70353b66a/src/misc/load_data.jl#L1-L6">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../examples/do-events/">« Dansgaard-Oescher events and Critical Slowing Down</a><a class="docs-footer-nextpage" href="../refs/">References »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Saturday 14 October 2023 11:42">Saturday 14 October 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
